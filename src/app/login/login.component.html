<p-toast></p-toast>

<div class="login">
    <h2 class="login-header">Log in</h2>
    <form [formGroup]="loginForm" class="login-container" (ngSubmit)="login()">
        <p [ngClass]="{ 'has-error': isSubmitted && formControls.email.errors }">
            <input type="email" placeholder="Email" formControlName="email" />
        </p>

        <div *ngIf="isSubmitted && formControls.email.errors" class="help-block">
            <div *ngIf="formControls.email.errors.required">Email is required</div>
        </div>

        <p [ngClass]="{ 'has-error': isSubmitted && formControls.password.errors }">
            <input type="password" placeholder="Password" formControlName="password" />
        </p>

        <div *ngIf="isSubmitted && formControls.password.errors" class="help-block">
            <div *ngIf="formControls.password.errors.required">
                Password is required
            </div>
        </div>

        <p>
            <input type="submit" value="LOG IN" />
        </p>
    </form>

    <button pButton pRipple type="button" label="Forgot password" class="p-button-secondary p-button-text" (click)="forgotPassword()"></button>

    <p>if new user, please register <a routerLink="/userReg">here</a></p>
    <div *ngIf="isLoading" style="text-align: center">
        <p-progressSpinner></p-progressSpinner>
        <p>Authenticating....</p>
    </div>
</div>